<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<link href="toc.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="toc.html">Table of contents</a>
      <a href="https://github.com/AU-COBRA/ConCert" target="_balnk">Project Page</a>
    </span>
</div>
  <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="js-toc-header" class="toc-header">Contents:</div>
    <div id="js-toc" class="toc" data-toc="h1,h2,h3,h4" data-toc-container="doc">
    </div>
    <div id="main">
<h1 class="libtitle">Library ConCert.Execution.Examples.BoardroomVotingZ</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.ZArith.html#"><span class="id" title="library">ZArith</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.Znumtheory.html#"><span class="id" title="library">Znumtheory</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Sorting.Permutation.html#"><span class="id" title="library">Permutation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Utils.RecordUpdate.html#"><span class="id" title="library">RecordUpdate</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Blockchain.html#"><span class="id" title="library">Blockchain</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Containers.html#"><span class="id" title="library">Containers</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Extras.html#"><span class="id" title="library">Extras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Monads.html#"><span class="id" title="library">Monads</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Serializable.html#"><span class="id" title="library">Serializable</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution.Examples</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Examples.Egcd.html#"><span class="id" title="library">Egcd</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution.Examples</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Examples.Euler.html#"><span class="id" title="library">Euler</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution.Examples</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Examples.Common.html#"><span class="id" title="library">Common</span></a>. <span class="id" title="keyword">Import</span> <span class="id" title="var">AddressMap</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution.Examples</span> <span class="id" title="keyword">Require</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVoting.html#"><span class="id" title="library">BoardroomVoting</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">RecordSetNotations</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="BR"><span class="id" title="module">BR</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVoting.html#BoardroomVoting"><span class="id" title="module">BoardroomVoting.BoardroomVoting</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a name="BoardroomParams"><span class="id" title="module">BoardroomParams</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a name="BoardroomParams.H"><span class="id" title="axiom">H</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a name="BoardroomParams.prime"><span class="id" title="axiom">prime</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a name="BoardroomParams.generator"><span class="id" title="axiom">generator</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a name="BoardroomParams.Base"><span class="id" title="axiom">Base</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#ChainBase"><span class="id" title="class">ChainBase</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomParams"><span class="id" title="module">BoardroomParams</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="BoardroomVoting"><span class="id" title="module">BoardroomVoting</span></a> (<span class="id" title="var">Params</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomParams"><span class="id" title="module">BoardroomParams</span></a>).<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">Params</span>.<br/>
<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">Base</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.A"><span class="id" title="definition">A</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.elmeqb"><span class="id" title="definition">elmeqb</span></a> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>) := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#a4c5404943f1bafa73de670b55f9e35c"><span class="id" title="notation">mod</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.prime"><span class="id" title="axiom">prime</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#f10153ef1a81fe79ed16d848b456c79b"><span class="id" title="notation">=?</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#a4c5404943f1bafa73de670b55f9e35c"><span class="id" title="notation">mod</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.prime"><span class="id" title="axiom">prime</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.mod_inv"><span class="id" title="definition">mod_inv</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">p</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := (<a class="idref" href="ConCert.Execution.Examples.Egcd.html#egcd"><span class="id" title="definition">egcd</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#p"><span class="id" title="variable">p</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#a4c5404943f1bafa73de670b55f9e35c"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#a4c5404943f1bafa73de670b55f9e35c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#a4c5404943f1bafa73de670b55f9e35c"><span class="id" title="notation">mod</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#p"><span class="id" title="variable">p</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.amount_eqb"><span class="id" title="definition">amount_eqb</span></a> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="ConCert.Execution.Blockchain.html#Amount"><span class="id" title="definition">Amount</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#Z.eqb"><span class="id" title="definition">Z.eqb</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#b"><span class="id" title="variable">b</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="BoardroomVoting.mod_pow_pos_aux"><span class="id" title="definition">mod_pow_pos_aux</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">r</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.PArith.BinPosDef.html#35713fcadfdd66af247cbf95acf859fa"><span class="id" title="notation">~0</span></a>%<span class="id" title="var">positive</span> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#mod_pow_pos_aux"><span class="id" title="definition">mod_pow_pos_aux</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#a4c5404943f1bafa73de670b55f9e35c"><span class="id" title="notation">mod</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#r"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.PArith.BinPosDef.html#119ad21c8e0c4947cd973f1f72e5feea"><span class="id" title="notation">~1</span></a>%<span class="id" title="var">positive</span> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#mod_pow_pos_aux"><span class="id" title="definition">mod_pow_pos_aux</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#a4c5404943f1bafa73de670b55f9e35c"><span class="id" title="notation">mod</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#m"><span class="id" title="variable">m</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#a4c5404943f1bafa73de670b55f9e35c"><span class="id" title="notation">mod</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#m"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#a4c5404943f1bafa73de670b55f9e35c"><span class="id" title="notation">mod</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#m"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.mod_pow_pos"><span class="id" title="definition">mod_pow_pos</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.mod_pow_pos_aux"><span class="id" title="definition">mod_pow_pos_aux</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#m"><span class="id" title="variable">m</span></a> 1.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.mod_pow"><span class="id" title="definition">mod_pow</span></a> (<span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z0"><span class="id" title="constructor">Z0</span></a> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#14ef112b66e341f773bd1e9d05816f43"><span class="id" title="notation">^</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#a4c5404943f1bafa73de670b55f9e35c"><span class="id" title="notation">mod</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#p"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.mod_pow_pos"><span class="id" title="definition">mod_pow_pos</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#p"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Zneg"><span class="id" title="constructor">Zneg</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.mod_inv"><span class="id" title="definition">mod_inv</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.mod_pow_pos"><span class="id" title="definition">mod_pow_pos</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#p"><span class="id" title="variable">p</span></a>) <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#p"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.add_p"><span class="id" title="definition">add_p</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#a4c5404943f1bafa73de670b55f9e35c"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#a4c5404943f1bafa73de670b55f9e35c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#a4c5404943f1bafa73de670b55f9e35c"><span class="id" title="notation">mod</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.prime"><span class="id" title="axiom">prime</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.mul_p"><span class="id" title="definition">mul_p</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#a4c5404943f1bafa73de670b55f9e35c"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#a4c5404943f1bafa73de670b55f9e35c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#a4c5404943f1bafa73de670b55f9e35c"><span class="id" title="notation">mod</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.prime"><span class="id" title="axiom">prime</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.opp_p"><span class="id" title="definition">opp_p</span></a> <span class="id" title="var">a</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.prime"><span class="id" title="axiom">prime</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#fa12f60d56cf7225f009c889c0622139"><span class="id" title="notation">-</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.inv_p"><span class="id" title="definition">inv_p</span></a> <span class="id" title="var">a</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.mod_inv"><span class="id" title="definition">mod_inv</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.prime"><span class="id" title="axiom">prime</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.mod_pow"><span class="id" title="definition">mod_pow</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.prime"><span class="id" title="axiom">prime</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.order"><span class="id" title="definition">order</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.prime"><span class="id" title="axiom">prime</span></a>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">broom_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">broom</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="BoardroomVoting.BoardroomMathNotations"><span class="id" title="module">BoardroomMathNotations</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a name="cae38444f2788d0b3e204c321c2c862a"><span class="id" title="notation">&quot;</span></a>=?" := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.elmeqb"><span class="id" title="definition">elmeqb</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70) : <span class="id" title="var">broom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="f9918f07af69da03fedb681fa204d0e4"><span class="id" title="notation">&quot;</span></a>0" := 0%<span class="id" title="var">Z</span> : <span class="id" title="var">broom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="8676c4ef9075e295e3039c06f99a8d1f"><span class="id" title="notation">&quot;</span></a>1" := 1%<span class="id" title="var">Z</span> : <span class="id" title="var">broom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a name="325039d13c1654d8dce41fd6b704a7cd"><span class="id" title="notation">&quot;</span></a>+" := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.add_p"><span class="id" title="definition">add_p</span></a> : <span class="id" title="var">broom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a name="2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">&quot;</span></a>*" := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.mul_p"><span class="id" title="definition">mul_p</span></a> : <span class="id" title="var">broom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a name="d092f85b1490d985d40b1ae1b66c60e8"><span class="id" title="notation">&quot;</span></a>^" := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> : <span class="id" title="var">broom</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.BoardroomMathNotations"><span class="id" title="module">BoardroomMathNotations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">BoardroomMathNotations</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">broom</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Allow&nbsp;us&nbsp;to&nbsp;automatically&nbsp;derive&nbsp;Serializable&nbsp;instances&nbsp;*)</span><br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Nonrecursive</span> <span class="id" title="var">Elimination</span> <span class="id" title="var">Schemes</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Primitive</span> <span class="id" title="var">Projections</span>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a name="BoardroomVoting.Setup"><span class="id" title="record">Setup</span></a> :=<br/>
&nbsp;&nbsp;<a name="BoardroomVoting.build_setup"><span class="id" title="constructor">build_setup</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.eligible_voters"><span class="id" title="projection">eligible_voters</span></a> : <a class="idref" href="ConCert.Execution.Examples.Common.html#AddressMap.AddrMap"><span class="id" title="abbreviation">AddrMap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.finish_registration_by"><span class="id" title="projection">finish_registration_by</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.finish_commit_by"><span class="id" title="projection">finish_commit_by</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.finish_vote_by"><span class="id" title="projection">finish_vote_by</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.registration_deposit"><span class="id" title="projection">registration_deposit</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Amount"><span class="id" title="definition">Amount</span></a>;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a name="BoardroomVoting.VoterInfo"><span class="id" title="record">VoterInfo</span></a> :=<br/>
&nbsp;&nbsp;<a name="BoardroomVoting.build_voter_info"><span class="id" title="constructor">build_voter_info</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.vote_hash"><span class="id" title="projection">vote_hash</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.public_vote"><span class="id" title="projection">public_vote</span></a> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a name="BoardroomVoting.State"><span class="id" title="record">State</span></a> :=<br/>
&nbsp;&nbsp;<a name="BoardroomVoting.build_state"><span class="id" title="constructor">build_state</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.owner"><span class="id" title="projection">owner</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> : <a class="idref" href="ConCert.Execution.Examples.Common.html#AddressMap.AddrMap"><span class="id" title="abbreviation">AddrMap</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.VoterInfo"><span class="id" title="record">VoterInfo</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.Setup"><span class="id" title="record">Setup</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.tally"><span class="id" title="projection">tally</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="comment">(*&nbsp;w,&nbsp;a1,&nbsp;b1,&nbsp;a2,&nbsp;b2,&nbsp;d1,&nbsp;d2&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.VoteProof"><span class="id" title="definition">VoteProof</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>)%<span class="id" title="keyword">type</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> :=<br/>
| <a name="BoardroomVoting.signup"><span class="id" title="constructor">signup</span></a> (<span class="id" title="var">pk</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>) (<span class="id" title="var">proof</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>)<br/>
| <a name="BoardroomVoting.commit_to_vote"><span class="id" title="constructor">commit_to_vote</span></a> (<span class="id" title="var">hash</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>)<br/>
| <a name="BoardroomVoting.submit_vote"><span class="id" title="constructor">submit_vote</span></a> (<span class="id" title="var">v</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>) (<span class="id" title="var">proof</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.VoteProof"><span class="id" title="definition">VoteProof</span></a>)<br/>
| <a name="BoardroomVoting.tally_votes"><span class="id" title="constructor">tally_votes</span></a>.<br/>

<br/>
<span class="id" title="var">MetaCoq</span> <span class="id" title="var">Run</span> (<a class="idref" href="ConCert.Utils.RecordSet.html#make_setters"><span class="id" title="definition">make_setters</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.VoterInfo"><span class="id" title="record">VoterInfo</span></a>).<br/>
<span class="id" title="var">MetaCoq</span> <span class="id" title="var">Run</span> (<a class="idref" href="ConCert.Utils.RecordSet.html#make_setters"><span class="id" title="definition">make_setters</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.State"><span class="id" title="record">State</span></a>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="BoardroomVoting.Setup_serializable"><span class="id" title="instance">Setup_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.Setup"><span class="id" title="record">Setup</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">Derive</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">Serializable</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.Setup_rect"><span class="id" title="definition">Setup_rect</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&lt;</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_setup"><span class="id" title="constructor">build_setup</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="BoardroomVoting.VoterInfo_serializable"><span class="id" title="instance">VoterInfo_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.VoterInfo"><span class="id" title="record">VoterInfo</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">Derive</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">Serializable</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.VoterInfo_rect"><span class="id" title="definition">VoterInfo_rect</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&lt;</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_voter_info"><span class="id" title="constructor">build_voter_info</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="BoardroomVoting.State_serializable"><span class="id" title="instance">State_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.State"><span class="id" title="record">State</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">Derive</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">Serializable</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.State_rect"><span class="id" title="definition">State_rect</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&lt;</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">build_state</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="BoardroomVoting.Msg_serializable"><span class="id" title="instance">Msg_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">Derive</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">Serializable</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.Msg_rect"><span class="id" title="definition">Msg_rect</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&lt;</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.signup"><span class="id" title="constructor">signup</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.commit_to_vote"><span class="id" title="constructor">commit_to_vote</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.submit_vote"><span class="id" title="constructor">submit_vote</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.tally_votes"><span class="id" title="constructor">tally_votes</span></a><a class="idref" href="ConCert.Execution.Serializable.html#70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&gt;</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ContractMonads</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.encodeA"><span class="id" title="definition">encodeA</span></a> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> := <span class="id" title="method">countable.encode</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.encodeNat"><span class="id" title="definition">encodeNat</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> := <span class="id" title="method">countable.encode</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.hash_sk_data"><span class="id" title="definition">hash_sk_data</span></a> (<span class="id" title="var">gv</span> <span class="id" title="var">pk</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.H"><span class="id" title="axiom">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.encodeA"><span class="id" title="definition">encodeA</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.generator"><span class="id" title="axiom">generator</span></a> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.encodeA"><span class="id" title="definition">encodeA</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#gv"><span class="id" title="variable">gv</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.encodeA"><span class="id" title="definition">encodeA</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pk"><span class="id" title="variable">pk</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.encodeNat"><span class="id" title="definition">encodeNat</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.compute_public_key"><span class="id" title="definition">compute_public_key</span></a> (<span class="id" title="var">sk</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.generator"><span class="id" title="axiom">generator</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sk"><span class="id" title="variable">sk</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;follows&nbsp;the&nbsp;original&nbsp;open&nbsp;vote&nbsp;protocol&nbsp;paper.&nbsp;It&nbsp;is&nbsp;a&nbsp;schnorr&nbsp;signature<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;fiat-shamir&nbsp;heuristic&nbsp;applied.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.secret_key_proof"><span class="id" title="definition">secret_key_proof</span></a> (<span class="id" title="var">sk</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">v</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">gv</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.generator"><span class="id" title="axiom">generator</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pk</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.compute_public_key"><span class="id" title="definition">compute_public_key</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sk"><span class="id" title="variable">sk</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">z</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.hash_sk_data"><span class="id" title="definition">hash_sk_data</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#gv"><span class="id" title="variable">gv</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pk"><span class="id" title="variable">pk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#i"><span class="id" title="variable">i</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">r</span> := (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#fa12f60d56cf7225f009c889c0622139"><span class="id" title="notation">-</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sk"><span class="id" title="variable">sk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#z"><span class="id" title="variable">z</span></a>)%<span class="id" title="var">Z</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#gv"><span class="id" title="variable">gv</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.verify_secret_key_proof"><span class="id" title="definition">verify_secret_key_proof</span></a> (<span class="id" title="var">pk</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">proof</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">gv</span>, <span class="id" title="var">r</span>) := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#proof"><span class="id" title="variable">proof</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">z</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.hash_sk_data"><span class="id" title="definition">hash_sk_data</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#gv"><span class="id" title="variable">gv</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pk"><span class="id" title="variable">pk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#i"><span class="id" title="variable">i</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.elmeqb"><span class="id" title="definition">elmeqb</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#gv"><span class="id" title="variable">gv</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.generator"><span class="id" title="axiom">generator</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pk"><span class="id" title="variable">pk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">)</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.hash_sv_data"><span class="id" title="definition">hash_sv_data</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">pk</span> <span class="id" title="var">rk</span> <span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">a2</span> <span class="id" title="var">b2</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.H"><span class="id" title="axiom">H</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.encodeNat"><span class="id" title="definition">encodeNat</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.encodeA"><span class="id" title="definition">encodeA</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pk"><span class="id" title="variable">pk</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#rk"><span class="id" title="variable">rk</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a1"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#b1"><span class="id" title="variable">b1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a2"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#b2"><span class="id" title="variable">b2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.compute_public_vote"><span class="id" title="definition">compute_public_vote</span></a> (<span class="id" title="var">rk</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>) (<span class="id" title="var">sk</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">sv</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#rk"><span class="id" title="variable">rk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sk"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">*</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sv"><span class="id" title="variable">sv</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.generator"><span class="id" title="axiom">generator</span></a> <span class="id" title="keyword">else</span> 1.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.secret_vote_proof"><span class="id" title="definition">secret_vote_proof</span></a> (<span class="id" title="var">sk</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">rk</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>) (<span class="id" title="var">sv</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">w</span> <span class="id" title="var">r</span> <span class="id" title="var">d</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.VoteProof"><span class="id" title="definition">VoteProof</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pk</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.compute_public_key"><span class="id" title="definition">compute_public_key</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sk"><span class="id" title="variable">sk</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.compute_public_vote"><span class="id" title="definition">compute_public_vote</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#rk"><span class="id" title="variable">rk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sk"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sv"><span class="id" title="variable">sv</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sv"><span class="id" title="variable">sv</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">a1</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.generator"><span class="id" title="axiom">generator</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pk"><span class="id" title="variable">pk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">b1</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#rk"><span class="id" title="variable">rk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pv"><span class="id" title="variable">pv</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">a2</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.generator"><span class="id" title="axiom">generator</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#w"><span class="id" title="variable">w</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">b2</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#rk"><span class="id" title="variable">rk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#w"><span class="id" title="variable">w</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">c</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.hash_sv_data"><span class="id" title="definition">hash_sv_data</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pk"><span class="id" title="variable">pk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#rk"><span class="id" title="variable">rk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#b1"><span class="id" title="variable">b1</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a2"><span class="id" title="variable">a2</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#b2"><span class="id" title="variable">b2</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">d2</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#fa12f60d56cf7225f009c889c0622139"><span class="id" title="notation">-</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">r2</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#fa12f60d56cf7225f009c889c0622139"><span class="id" title="notation">-</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sk"><span class="id" title="variable">sk</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#d2"><span class="id" title="variable">d2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#w"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a1"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#b1"><span class="id" title="variable">b1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a2"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#b2"><span class="id" title="variable">b2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#d2"><span class="id" title="variable">d2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#r2"><span class="id" title="variable">r2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">a1</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.generator"><span class="id" title="axiom">generator</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#w"><span class="id" title="variable">w</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">b1</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#rk"><span class="id" title="variable">rk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#w"><span class="id" title="variable">w</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">a2</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.generator"><span class="id" title="axiom">generator</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pk"><span class="id" title="variable">pk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">b2</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#rk"><span class="id" title="variable">rk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pv"><span class="id" title="variable">pv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.inv_p"><span class="id" title="definition">inv_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.generator"><span class="id" title="axiom">generator</span></a>) <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">c</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.hash_sv_data"><span class="id" title="definition">hash_sv_data</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pk"><span class="id" title="variable">pk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#rk"><span class="id" title="variable">rk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#b1"><span class="id" title="variable">b1</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a2"><span class="id" title="variable">a2</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#b2"><span class="id" title="variable">b2</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">d1</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#fa12f60d56cf7225f009c889c0622139"><span class="id" title="notation">-</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">r1</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#fa12f60d56cf7225f009c889c0622139"><span class="id" title="notation">-</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sk"><span class="id" title="variable">sk</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#d1"><span class="id" title="variable">d1</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#w"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a1"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#b1"><span class="id" title="variable">b1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#a2"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#b2"><span class="id" title="variable">b2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#d1"><span class="id" title="variable">d1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#r1"><span class="id" title="variable">r1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">bool</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.verify_secret_vote_proof"><span class="id" title="definition">verify_secret_vote_proof</span></a> (<span class="id" title="var">pk</span> <span class="id" title="var">rk</span> <span class="id" title="var">pv</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">proof</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.VoteProof"><span class="id" title="definition">VoteProof</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">r1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">r2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#proof"><span class="id" title="variable">proof</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">c</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.hash_sv_data"><span class="id" title="definition">hash_sv_data</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pk"><span class="id" title="variable">pk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#rk"><span class="id" title="variable">rk</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">a2</span> <span class="id" title="var">b2</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#f10153ef1a81fe79ed16d848b456c79b"><span class="id" title="notation">=?</span></a> <span class="id" title="var">d1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">d2</span>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="var">a1</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#cae38444f2788d0b3e204c321c2c862a"><span class="id" title="notation">=?</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.generator"><span class="id" title="axiom">generator</span></a> <span class="id" title="var">r1</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pk"><span class="id" title="variable">pk</span></a> <span class="id" title="var">d1</span>)%<span class="id" title="var">broom</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="var">b1</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#cae38444f2788d0b3e204c321c2c862a"><span class="id" title="notation">=?</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#rk"><span class="id" title="variable">rk</span></a> <span class="id" title="var">r1</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pv"><span class="id" title="variable">pv</span></a> <span class="id" title="var">d1</span>)%<span class="id" title="var">broom</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="var">a2</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#cae38444f2788d0b3e204c321c2c862a"><span class="id" title="notation">=?</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.generator"><span class="id" title="axiom">generator</span></a> <span class="id" title="var">r2</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pk"><span class="id" title="variable">pk</span></a> <span class="id" title="var">d2</span>)%<span class="id" title="var">broom</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="var">b2</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#cae38444f2788d0b3e204c321c2c862a"><span class="id" title="notation">=?</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#rk"><span class="id" title="variable">rk</span></a> <span class="id" title="var">r2</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.pow_p"><span class="id" title="definition">pow_p</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pv"><span class="id" title="variable">pv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.inv_p"><span class="id" title="definition">inv_p</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.generator"><span class="id" title="axiom">generator</span></a>) <span class="id" title="var">d2</span>)%<span class="id" title="var">broom</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.make_signup_msg"><span class="id" title="definition">make_signup_msg</span></a> (<span class="id" title="var">sk</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">v</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.signup"><span class="id" title="constructor">signup</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.compute_public_key"><span class="id" title="definition">compute_public_key</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sk"><span class="id" title="variable">sk</span></a>) (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.secret_key_proof"><span class="id" title="definition">secret_key_proof</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sk"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#i"><span class="id" title="variable">i</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.reconstructed_key"><span class="id" title="definition">reconstructed_key</span></a> (<span class="id" title="var">pks</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>) (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lprod</span> := <a class="idref" href="ConCert.Execution.Examples.Euler.html#prod"><span class="id" title="definition">prod</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pks"><span class="id" title="variable">pks</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rprod</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.inv_p"><span class="id" title="definition">inv_p</span></a> (<a class="idref" href="ConCert.Execution.Examples.Euler.html#prod"><span class="id" title="definition">prod</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pks"><span class="id" title="variable">pks</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#lprod"><span class="id" title="variable">lprod</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#2c49b42a9bbe42ce00b9bb3258d95d4b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#rprod"><span class="id" title="variable">rprod</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.make_commit_msg"><span class="id" title="definition">make_commit_msg</span></a> (<span class="id" title="var">pks</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>) (<span class="id" title="var">my_index</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">sk</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">sv</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.compute_public_vote"><span class="id" title="definition">compute_public_vote</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.reconstructed_key"><span class="id" title="definition">reconstructed_key</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pks"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#my_index"><span class="id" title="variable">my_index</span></a>) <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sk"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sv"><span class="id" title="variable">sv</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.commit_to_vote"><span class="id" title="constructor">commit_to_vote</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.H"><span class="id" title="axiom">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.encodeA"><span class="id" title="definition">encodeA</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pv"><span class="id" title="variable">pv</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.make_vote_msg"><span class="id" title="definition">make_vote_msg</span></a> (<span class="id" title="var">pks</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>) (<span class="id" title="var">my_index</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">sk</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">sv</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="var">w</span> <span class="id" title="var">r</span> <span class="id" title="var">d</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rk</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.reconstructed_key"><span class="id" title="definition">reconstructed_key</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pks"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#my_index"><span class="id" title="variable">my_index</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.submit_vote"><span class="id" title="constructor">submit_vote</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.compute_public_vote"><span class="id" title="definition">compute_public_vote</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#rk"><span class="id" title="variable">rk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sk"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sv"><span class="id" title="variable">sv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.secret_vote_proof"><span class="id" title="definition">secret_vote_proof</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sk"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#rk"><span class="id" title="variable">rk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#sv"><span class="id" title="variable">sv</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#my_index"><span class="id" title="variable">my_index</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#d"><span class="id" title="variable">d</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.ContractIniterSetupState"><span class="id" title="definition">ContractIniterSetupState</span></a> := <a class="idref" href="ConCert.Execution.ContractMonads.html#ContractIniter"><span class="id" title="definition">ContractIniter</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.Setup"><span class="id" title="record">Setup</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.State"><span class="id" title="record">State</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.init"><span class="id" title="definition">init</span></a> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.ContractIniterSetupState"><span class="id" title="definition">ContractIniterSetupState</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">owner</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> <a class="idref" href="ConCert.Execution.ContractMonads.html#caller_addr"><span class="id" title="definition">caller_addr</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">setup</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.ContractMonads.html#deployment_setup"><span class="id" title="definition">deployment_setup</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.finish_registration_by"><span class="id" title="projection">finish_registration_by</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#setup"><span class="id" title="variable">setup</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.finish_vote_by"><span class="id" title="projection">finish_vote_by</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#setup"><span class="id" title="variable">setup</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)%<span class="id" title="var">nat</span><a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.ContractMonads.html#accept_deployment"><span class="id" title="definition">accept_deployment</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">owner</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">owner</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">registered_voters</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">AddressMap.empty</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">public_keys</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">[];</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">setup</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">setup</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">tally</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">None</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">;</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.ContractReceiverStateMsgState"><span class="id" title="definition">ContractReceiverStateMsgState</span></a> := <a class="idref" href="ConCert.Execution.ContractMonads.html#ContractReceiver"><span class="id" title="definition">ContractReceiver</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.State"><span class="id" title="record">State</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.State"><span class="id" title="record">State</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.twoZ"><span class="id" title="definition">twoZ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> := 2.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.handle_signup"><span class="id" title="definition">handle_signup</span></a> <span class="id" title="var">pk</span> <span class="id" title="var">prf</span> <span class="id" title="var">state</span> <span class="id" title="var">caller</span> <span class="id" title="var">cur_slot</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.ContractReceiverStateMsgState"><span class="id" title="definition">ContractReceiverStateMsgState</span></a> := <br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.finish_registration_by"><span class="id" title="projection">finish_registration_by</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#cur_slot"><span class="id" title="variable">cur_slot</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)%<span class="id" title="var">nat</span><a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Execution.Examples.Common.html#AddressMap.find"><span class="id" title="definition">AddressMap.find</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#caller"><span class="id" title="variable">caller</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.eligible_voters"><span class="id" title="projection">eligible_voters</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a>)) <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Execution.Examples.Common.html#AddressMap.find"><span class="id" title="definition">AddressMap.find</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#caller"><span class="id" title="variable">caller</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">amt</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> <a class="idref" href="ConCert.Execution.ContractMonads.html#call_amount"><span class="id" title="definition">call_amount</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="keyword">if</span> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.amount_eqb"><span class="id" title="definition">amount_eqb</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#amt"><span class="id" title="variable">amt</span></a>  (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.registration_deposit"><span class="id" title="projection">registration_deposit</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a>)))%<span class="id" title="var">Z</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#f1746f02f141d025b1e53605943919bf"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.order"><span class="id" title="definition">order</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#fa12f60d56cf7225f009c889c0622139"><span class="id" title="notation">-</span></a> 2 <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">index</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.verify_secret_key_proof"><span class="id" title="definition">verify_secret_key_proof</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pk"><span class="id" title="variable">pk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#index"><span class="id" title="variable">index</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#prf"><span class="id" title="variable">prf</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">inf</span> := {| <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_voter_info"><span class="id" title="constructor">voter_index</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_voter_info"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_voter_info"><span class="id" title="constructor">index</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_voter_info"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_voter_info"><span class="id" title="constructor">vote_hash</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_voter_info"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_voter_info"><span class="id" title="constructor">1;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_voter_info"><span class="id" title="constructor">public_vote</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_voter_info"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_voter_info"><span class="id" title="constructor">0;</span></a> |} <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">new_state</span> := {| <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">owner</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">state</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">.(</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">owner</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">registered_voters</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">AddressMap.add</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">caller</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">inf</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">state</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">.(</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">registered_voters</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">public_keys</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">state</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">.(</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">public_keys</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">)</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">++</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">[</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">pk</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">];</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">setup</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">state</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">.(</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">setup</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">tally</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">state</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">.(</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">tally</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.build_state"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|} <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.ContractMonads.html#accept_call"><span class="id" title="definition">accept_call</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#new_state"><span class="id" title="variable">new_state</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.handle_commit_to_vote"><span class="id" title="definition">handle_commit_to_vote</span></a> <span class="id" title="var">hash_</span> <span class="id" title="var">state</span> <span class="id" title="var">caller</span> <span class="id" title="var">cur_slot</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.ContractReceiverStateMsgState"><span class="id" title="definition">ContractReceiverStateMsgState</span></a> := <br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">commit_by</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.finish_commit_by"><span class="id" title="projection">finish_commit_by</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a>))<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#commit_by"><span class="id" title="variable">commit_by</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#cur_slot"><span class="id" title="variable">cur_slot</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)%<span class="id" title="var">nat</span><a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">inf</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<a class="idref" href="ConCert.Execution.Examples.Common.html#AddressMap.find"><span class="id" title="definition">AddressMap.find</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#caller"><span class="id" title="variable">caller</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a>))<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">inf</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#inf"><span class="id" title="variable">inf</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">&lt;|</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.vote_hash"><span class="id" title="projection">vote_hash</span></a> <a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#hash_"><span class="id" title="variable">hash_</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">|&gt;</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.ContractMonads.html#accept_call"><span class="id" title="definition">accept_call</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">&lt;|</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">::=</span></a> <a class="idref" href="ConCert.Execution.Examples.Common.html#AddressMap.add"><span class="id" title="definition">AddressMap.add</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#caller"><span class="id" title="variable">caller</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#inf"><span class="id" title="variable">inf</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">|&gt;</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.handle_submit_vote"><span class="id" title="definition">handle_submit_vote</span></a> <span class="id" title="var">v</span> <span class="id" title="var">proof</span> <span class="id" title="var">state</span> <span class="id" title="var">caller</span> <span class="id" title="var">cur_slot</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.ContractReceiverStateMsgState"><span class="id" title="definition">ContractReceiverStateMsgState</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.finish_vote_by"><span class="id" title="projection">finish_vote_by</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#cur_slot"><span class="id" title="variable">cur_slot</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)%<span class="id" title="var">nat</span><a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">inf</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<a class="idref" href="ConCert.Execution.Examples.Common.html#AddressMap.find"><span class="id" title="definition">AddressMap.find</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#caller"><span class="id" title="variable">caller</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a>))<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.finish_commit_by"><span class="id" title="projection">finish_commit_by</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.H"><span class="id" title="axiom">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.encodeA"><span class="id" title="definition">encodeA</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.PArith.BinPos.html#73a7924686b773c85a4b58b44b86bc87"><span class="id" title="notation">=?</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.vote_hash"><span class="id" title="projection">vote_hash</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#inf"><span class="id" title="variable">inf</span></a>)%<span class="id" title="var">positive</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.verify_secret_vote_proof"><span class="id" title="definition">verify_secret_vote_proof</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#inf"><span class="id" title="variable">inf</span></a>) (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a>) 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.reconstructed_key"><span class="id" title="definition">reconstructed_key</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.public_keys"><span class="id" title="projection">public_keys</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a>) (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#inf"><span class="id" title="variable">inf</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#v"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#inf"><span class="id" title="variable">inf</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#proof"><span class="id" title="variable">proof</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">inf</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#inf"><span class="id" title="variable">inf</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">&lt;|</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.public_vote"><span class="id" title="projection">public_vote</span></a> <a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">|&gt;</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.ContractMonads.html#accept_call"><span class="id" title="definition">accept_call</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">&lt;|</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">::=</span></a> <a class="idref" href="ConCert.Execution.Examples.Common.html#AddressMap.add"><span class="id" title="definition">AddressMap.add</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#caller"><span class="id" title="variable">caller</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#inf"><span class="id" title="variable">inf</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">|&gt;</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="BoardroomVoting.bruteforce_tally_aux"><span class="id" title="definition">bruteforce_tally_aux</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">votes_product</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#Params.generator"><span class="id" title="axiom">generator</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#d092f85b1490d985d40b1ae1b66c60e8"><span class="id" title="notation">^</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#d092f85b1490d985d40b1ae1b66c60e8"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#d092f85b1490d985d40b1ae1b66c60e8"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#cae38444f2788d0b3e204c321c2c862a"><span class="id" title="notation">=?</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#votes_product"><span class="id" title="variable">votes_product</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#n"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#bruteforce_tally_aux"><span class="id" title="definition">bruteforce_tally_aux</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#votes_product"><span class="id" title="variable">votes_product</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>%<span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.bruteforce_tally"><span class="id" title="definition">bruteforce_tally</span></a> (<span class="id" title="var">votes</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.bruteforce_tally_aux"><span class="id" title="definition">bruteforce_tally_aux</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#votes"><span class="id" title="variable">votes</span></a>) (<a class="idref" href="ConCert.Execution.Examples.Euler.html#prod"><span class="id" title="definition">prod</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#votes"><span class="id" title="variable">votes</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.handle_tally_votes"><span class="id" title="definition">handle_tally_votes</span></a> <span class="id" title="var">state</span> <span class="id" title="var">cur_slot</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.ContractReceiverStateMsgState"><span class="id" title="definition">ContractReceiverStateMsgState</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#cur_slot"><span class="id" title="variable">cur_slot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.finish_vote_by"><span class="id" title="projection">finish_vote_by</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.setup"><span class="id" title="projection">setup</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)%<span class="id" title="var">nat</span><a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.tally"><span class="id" title="projection">tally</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a> <span class="id" title="keyword">with</span> | <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="keyword">end</span>)<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">voters</span> := <a class="idref" href="ConCert.Execution.Examples.Common.html#AddressMap.values"><span class="id" title="definition">AddressMap.values</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.registered_voters"><span class="id" title="projection">registered_voters</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#existsb"><span class="id" title="definition">existsb</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">vi</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.elmeqb"><span class="id" title="definition">elmeqb</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.public_vote"><span class="id" title="projection">public_vote</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#vi"><span class="id" title="variable">vi</span></a>) 0 <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#voters"><span class="id" title="variable">voters</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="ConCert.Execution.Monads.html#1b55d007168a63acd20468b65fc05f35"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">votes</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.public_vote"><span class="id" title="projection">public_vote</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#voters"><span class="id" title="variable">voters</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">res</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.bruteforce_tally"><span class="id" title="definition">bruteforce_tally</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#votes"><span class="id" title="variable">votes</span></a>)<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.ContractMonads.html#accept_call"><span class="id" title="definition">accept_call</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">&lt;|</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.tally"><span class="id" title="projection">tally</span></a> <a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">:=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#res"><span class="id" title="variable">res</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#f46003504e2d2076ab5611d27918b097"><span class="id" title="notation">|&gt;</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.receive"><span class="id" title="definition">receive</span></a> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.ContractReceiverStateMsgState"><span class="id" title="definition">ContractReceiverStateMsgState</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">state</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.ContractMonads.html#my_state"><span class="id" title="definition">my_state</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">caller</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> <a class="idref" href="ConCert.Execution.ContractMonads.html#caller_addr"><span class="id" title="definition">caller_addr</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">cur_slot</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a> <a class="idref" href="ConCert.Execution.ContractMonads.html#current_slot"><span class="id" title="definition">current_slot</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">msg</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.ContractMonads.html#call_msg"><span class="id" title="definition">call_msg</span></a> <a class="idref" href="ConCert.Execution.Monads.html#f1146025ce6377896c1a30f88a02c8cb"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="ConCert.Execution.Monads.html#lift"><span class="id" title="method">lift</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#msg"><span class="id" title="variable">msg</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.signup"><span class="id" title="constructor">signup</span></a> <span class="id" title="var">pk</span> <span class="id" title="var">prf</span> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.handle_signup"><span class="id" title="definition">handle_signup</span></a> <span class="id" title="var">pk</span> <span class="id" title="var">prf</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#caller"><span class="id" title="variable">caller</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#cur_slot"><span class="id" title="variable">cur_slot</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.commit_to_vote"><span class="id" title="constructor">commit_to_vote</span></a> <span class="id" title="var">hash_</span> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.handle_commit_to_vote"><span class="id" title="definition">handle_commit_to_vote</span></a> <span class="id" title="var">hash_</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#caller"><span class="id" title="variable">caller</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#cur_slot"><span class="id" title="variable">cur_slot</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.submit_vote"><span class="id" title="constructor">submit_vote</span></a> <span class="id" title="var">v</span> <span class="id" title="var">proof</span> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.handle_submit_vote"><span class="id" title="definition">handle_submit_vote</span></a> <span class="id" title="var">v</span> <span class="id" title="var">proof</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#caller"><span class="id" title="variable">caller</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#cur_slot"><span class="id" title="variable">cur_slot</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.tally_votes"><span class="id" title="constructor">tally_votes</span></a> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.handle_tally_votes"><span class="id" title="definition">handle_tally_votes</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#cur_slot"><span class="id" title="variable">cur_slot</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.boardroom_voting"><span class="id" title="definition">boardroom_voting</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Contract"><span class="id" title="record">Contract</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.Setup"><span class="id" title="record">Setup</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.State"><span class="id" title="record">State</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.ContractMonads.html#build_contract"><span class="id" title="definition">build_contract</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.init"><span class="id" title="definition">init</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.receive"><span class="id" title="definition">receive</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="BoardroomVoting.Theories"><span class="id" title="section">Theories</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a name="BoardroomVoting.SecretVoterInfo"><span class="id" title="record">SecretVoterInfo</span></a> :=<br/>
&nbsp;&nbsp;<a name="BoardroomVoting.build_secret_voter_info"><span class="id" title="constructor">build_secret_voter_info</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.svi_index"><span class="id" title="projection">svi_index</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Secret&nbsp;key&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.svi_sk"><span class="id" title="projection">svi_sk</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Chosen&nbsp;randomness&nbsp;for&nbsp;knowledge&nbsp;of&nbsp;secret&nbsp;key&nbsp;proof&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.svi_sk_r"><span class="id" title="projection">svi_sk_r</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Secret&nbsp;vot&nbsp;e*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.svi_sv"><span class="id" title="projection">svi_sv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Chosen&nbsp;random&nbsp;w&nbsp;for&nbsp;vote&nbsp;proof&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.svi_sv_w"><span class="id" title="projection">svi_sv_w</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Chosen&nbsp;random&nbsp;r&nbsp;for&nbsp;vote&nbsp;proof&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.svi_sv_r"><span class="id" title="projection">svi_sv_r</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Chosen&nbsp;random&nbsp;d&nbsp;for&nbsp;vote&nbsp;proof&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoardroomVoting.svi_sv_d"><span class="id" title="projection">svi_sv_d</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="var">MetaCoq</span> <span class="id" title="var">Run</span> (<a class="idref" href="ConCert.Utils.RecordSet.html#make_setters"><span class="id" title="definition">make_setters</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.SecretVoterInfo"><span class="id" title="record">SecretVoterInfo</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;For&nbsp;correctness&nbsp;we&nbsp;assume&nbsp;that&nbsp;all&nbsp;signups&nbsp;and&nbsp;vote&nbsp;messages&nbsp;were<br/>
&nbsp;&nbsp;&nbsp;created&nbsp;using&nbsp;the&nbsp;make_signup_msg&nbsp;and&nbsp;make_vote_msg&nbsp;functions&nbsp;from<br/>
&nbsp;&nbsp;&nbsp;the&nbsp;contract&nbsp;*)</span><br/>
<span class="id" title="keyword">Fixpoint</span> <a name="BoardroomVoting.MsgAssumption"><span class="id" title="definition">MsgAssumption</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pks</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">parties</span> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.SecretVoterInfo"><span class="id" title="record">SecretVoterInfo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">calls</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#ContractCallInfo"><span class="id" title="record">ContractCallInfo</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a>)) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#calls"><span class="id" title="variable">calls</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">call</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">calls</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">party</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#parties"><span class="id" title="variable">parties</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#call_from"><span class="id" title="projection">Blockchain.call_from</span></a> <span class="id" title="var">call</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Blockchain.html#call_msg"><span class="id" title="projection">Blockchain.call_msg</span></a> <span class="id" title="var">call</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.signup"><span class="id" title="constructor">signup</span></a> <span class="id" title="var">pk</span> <span class="id" title="var">prf</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m</span>) =&gt; <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.make_signup_msg"><span class="id" title="definition">make_signup_msg</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.svi_sk"><span class="id" title="projection">svi_sk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#party"><span class="id" title="variable">party</span></a>) (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.svi_sk_r"><span class="id" title="projection">svi_sk_r</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#party"><span class="id" title="variable">party</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.svi_index"><span class="id" title="projection">svi_index</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#party"><span class="id" title="variable">party</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.submit_vote"><span class="id" title="constructor">submit_vote</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.make_vote_msg"><span class="id" title="definition">make_vote_msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pks"><span class="id" title="variable">pks</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.svi_index"><span class="id" title="projection">svi_index</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#party"><span class="id" title="variable">party</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.svi_sk"><span class="id" title="projection">svi_sk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#party"><span class="id" title="variable">party</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.svi_sv"><span class="id" title="projection">svi_sv</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#party"><span class="id" title="variable">party</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.svi_sv_w"><span class="id" title="projection">svi_sv_w</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#party"><span class="id" title="variable">party</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.svi_sv_r"><span class="id" title="projection">svi_sv_r</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#party"><span class="id" title="variable">party</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.svi_sv_d"><span class="id" title="projection">svi_sv_d</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#party"><span class="id" title="variable">party</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#MsgAssumption"><span class="id" title="definition">MsgAssumption</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pks"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#parties"><span class="id" title="variable">parties</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#calls"><span class="id" title="variable">calls</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> (<span class="id" title="var">calls</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#ContractCallInfo"><span class="id" title="record">ContractCallInfo</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a>)) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>) :=<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;reverse&nbsp;the&nbsp;signups&nbsp;since&nbsp;the&nbsp;calls&nbsp;will&nbsp;have&nbsp;the&nbsp;last&nbsp;one&nbsp;at&nbsp;the&nbsp;head&nbsp;*)</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="ConCert.Execution.Extras.html#map_option"><span class="id" title="definition">map_option</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">call</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Blockchain.html#call_msg"><span class="id" title="projection">Blockchain.call_msg</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#call"><span class="id" title="variable">call</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.signup"><span class="id" title="constructor">signup</span></a> <span class="id" title="var">pk</span> <span class="id" title="var">prf</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Blockchain.html#call_from"><span class="id" title="projection">Blockchain.call_from</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#call"><span class="id" title="variable">call</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">pk</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#calls"><span class="id" title="variable">calls</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;index&nbsp;map&nbsp;and&nbsp;public&nbsp;keys&nbsp;list&nbsp;provided&nbsp;also&nbsp;needs&nbsp;to&nbsp;match&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;order&nbsp;in&nbsp;which&nbsp;parties&nbsp;signed&nbsp;up&nbsp;in&nbsp;the&nbsp;contract.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="BoardroomVoting.SignupOrderAssumption"><span class="id" title="definition">SignupOrderAssumption</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pks</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.A"><span class="id" title="definition">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">parties</span> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.SecretVoterInfo"><span class="id" title="record">SecretVoterInfo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">calls</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#ContractCallInfo"><span class="id" title="record">ContractCallInfo</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.Msg"><span class="id" title="inductive">Msg</span></a>)) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Extras.html#All"><span class="id" title="definition">All</span></a> (<span class="id" title="keyword">fun</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><span class="id" title="var">addr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">pk</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.svi_index"><span class="id" title="projection">svi_index</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#parties"><span class="id" title="variable">parties</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#addr"><span class="id" title="variable">addr</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pks"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pk"><span class="id" title="variable">pk</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Extras.html#zip"><span class="id" title="definition">zip</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#calls"><span class="id" title="variable">calls</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#calls"><span class="id" title="variable">calls</span></a>)))).<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="BoardroomVoting.Permutation_modify"><span class="id" title="lemma">Permutation_modify</span></a> <span class="id" title="var">k</span> <span class="id" title="var">vold</span> <span class="id" title="var">vnew</span> (<span class="id" title="var">m</span> : <a class="idref" href="ConCert.Execution.Examples.Common.html#AddressMap.AddrMap"><span class="id" title="abbreviation">AddrMap</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.VoterInfo"><span class="id" title="record">VoterInfo</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Containers.html#FMap.find"><span class="id" title="abbreviation">FMap.find</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#vold"><span class="id" title="variable">vold</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#vold"><span class="id" title="variable">vold</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#vnew"><span class="id" title="variable">vnew</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#v"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Containers.html#FMap.elements"><span class="id" title="abbreviation">FMap.elements</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#m"><span class="id" title="variable">m</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 0 (<a class="idref" href="ConCert.Execution.Containers.html#FMap.size"><span class="id" title="abbreviation">FMap.size</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#m"><span class="id" title="variable">m</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.voter_index"><span class="id" title="projection">voter_index</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#v0"><span class="id" title="variable">v0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Containers.html#FMap.elements"><span class="id" title="abbreviation">FMap.elements</span></a> (<a class="idref" href="ConCert.Execution.Containers.html#FMap.add"><span class="id" title="abbreviation">FMap.add</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#vnew"><span class="id" title="variable">vnew</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#m"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 0 (<a class="idref" href="ConCert.Execution.Containers.html#FMap.size"><span class="id" title="abbreviation">FMap.size</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#m"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">find_some</span> <span class="id" title="var">index</span> <span class="id" title="var">old_perm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">old_perm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="ConCert.Execution.Containers.html#FMap.add_id"><span class="id" title="lemma">FMap.add_id</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">find_some</span>) <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="ConCert.Execution.Containers.html#FMap.add_remove"><span class="id" title="lemma">FMap.add_remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">vold</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ConCert.Execution.Containers.html#FMap.elements_add_existing"><span class="id" title="lemma">FMap.elements_add_existing</span></a> <span class="id" title="var">k</span> <span class="id" title="var">vold</span> <span class="id" title="var">vnew</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.elements_add"><span class="id" title="lemma">FMap.elements_add</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">index</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="BoardroomVoting.all_signups"><span class="id" title="lemma">all_signups</span></a> <span class="id" title="var">pks</span> <span class="id" title="var">parties</span> <span class="id" title="var">calls</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.SignupOrderAssumption"><span class="id" title="definition">SignupOrderAssumption</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pks"><span class="id" title="variable">pks</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#parties"><span class="id" title="variable">parties</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#calls"><span class="id" title="variable">calls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#calls"><span class="id" title="variable">calls</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pks"><span class="id" title="variable">pks</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#calls"><span class="id" title="variable">calls</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#pks"><span class="id" title="variable">pks</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">order</span> <span class="id" title="var">len_signups</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.SignupOrderAssumption"><span class="id" title="definition">SignupOrderAssumption</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">parties</span> <span class="id" title="var">pks</span> <span class="id" title="var">len_signups</span> <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.signups"><span class="id" title="definition">signups</span></a> <span class="id" title="var">calls</span>) <span class="id" title="keyword">as</span> [|[<span class="id" title="var">addr</span> <span class="id" title="var">pk</span>] <span class="id" title="var">xs</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">parties</span> <span class="id" title="var">pks</span> <span class="id" title="var">len_signups</span> <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">pks</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pks</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">pk'</span> <span class="id" title="var">pks</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">order</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">index_eq</span> <span class="id" title="var">nth_eq</span>] <span class="id" title="var">all</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IH</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">addr</span> =&gt; <a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">(</span></a><span class="id" title="var">parties</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#addr"><span class="id" title="variable">addr</span></a><a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">)&lt;|</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.svi_index"><span class="id" title="projection">svi_index</span></a> <a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">::=</span></a> <span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#7825ccc99f23b0d30c9d40c317ba7af0"><span class="id" title="notation">-</span></a> 1<a class="idref" href="ConCert.Utils.RecordSet.html#394068d0cf93ac4dd96dfc7ba41b06b2"><span class="id" title="notation">|&gt;</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">map_id</span></a> <span class="id" title="var">xs</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">all</span> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#seq_shift"><span class="id" title="lemma">seq_shift</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Extras.html#zip_map"><span class="id" title="lemma">zip_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Execution.Extras.html#All_map"><span class="id" title="lemma">All_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="ConCert.Execution.Extras.html#All_ext_in"><span class="id" title="lemma">All_ext_in</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">all</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>, <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting.Theories"><span class="id" title="section">Theories</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingZ.html#BoardroomVoting"><span class="id" title="module">BoardroomVoting</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a> and <a href="https://github.com/jgallen23/toc">TOC</a>
</div>
</div>
<script>
  const elements = document.getElementsByClassName("libtitle");
  while(elements.length > 0){
        elements[0].parentNode.removeChild(elements[0]);
  }
  if (window.location.pathname.endsWith("/toc.html")) {
      const jstocDiv = document.getElementById("js-toc");
      jstocDiv.classList.remove("toc");
      jstocDiv.classList.add("jstoc-hidden");
      const jstocHeaderDiv = document.getElementById("js-toc-header");
      jstocHeaderDiv.classList.add("jstoc-hidden");
  }
  console.log(window.location.pathname);
</script>
<script type="text/javascript" src="toc.js"></script>
</body>

</html>
