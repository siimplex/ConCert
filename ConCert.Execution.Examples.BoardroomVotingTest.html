<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<link href="toc.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="toc.html">Table of contents</a>
      <a href="https://github.com/AU-COBRA/ConCert" target="_balnk">Project Page</a>
    </span>
</div>
  <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="js-toc-header" class="toc-header">Contents:</div>
    <div id="js-toc" class="toc" data-toc="h1,h2,h3,h4" data-toc-container="doc">
    </div>
    <div id="main">
<h1 class="libtitle">Library ConCert.Execution.Examples.BoardroomVotingTest</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.Cyclic.Int31.Cyclic31.html#"><span class="id" title="library">Cyclic31</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.Znumtheory.html#"><span class="id" title="library">Znumtheory</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Blockchain.html#"><span class="id" title="library">Blockchain</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.BoundedN.html#"><span class="id" title="library">BoundedN</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Containers.html#"><span class="id" title="library">Containers</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Extras.html#"><span class="id" title="library">Extras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.LocalBlockchain.html#"><span class="id" title="library">LocalBlockchain</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Monads.html#"><span class="id" title="library">Monads</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.ResultMonad.html#"><span class="id" title="library">ResultMonad</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Serializable.html#"><span class="id" title="library">Serializable</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#"><span class="id" title="library">BoardroomMath</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution.Examples</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVoting.html#"><span class="id" title="library">BoardroomVoting</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution.Examples</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Examples.Common.html#"><span class="id" title="library">Common</span></a>. <span class="id" title="keyword">Import</span> <span class="id" title="var">AddressMap</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">BoardroomMathNotations</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">broom</span>.<br/>

<br/>
<span class="comment">(*<br/>
Definition&nbsp;modulus&nbsp;:&nbsp;bigZ&nbsp;:=&nbsp;1552518092300708935130918131258481755631334049434514313202351194902966239949102107258669453876591642442910007680288864229150803718918046342632727613031282983744380820890196288509170691316593175367469551763119843371637221007210577919.<br/>
Definition&nbsp;generator&nbsp;:&nbsp;bigZ&nbsp;:=&nbsp;2.<br/>
*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="modulus"><span class="id" title="definition">modulus</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> := 201697267445741585806196628073.<br/>
<span class="id" title="keyword">Definition</span> <a name="four"><span class="id" title="definition">four</span></a> := 4%<span class="id" title="var">nat</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="seven"><span class="id" title="definition">seven</span></a> := 7%<span class="id" title="var">nat</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="_1234583932"><span class="id" title="definition">_1234583932</span></a> := 1234583932.<br/>
<span class="id" title="keyword">Definition</span> <a name="_23241"><span class="id" title="definition">_23241</span></a> := 23241.<br/>
<span class="id" title="keyword">Definition</span> <a name="_159338231"><span class="id" title="definition">_159338231</span></a> := 159338231.<br/>

<br/>
<span class="comment">(*&nbsp;Definition&nbsp;modulus&nbsp;:&nbsp;Z&nbsp;:=&nbsp;13.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="generator"><span class="id" title="definition">generator</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> := 3.<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a name="modulus_prime"><span class="id" title="axiom">modulus_prime</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.Znumtheory.html#prime"><span class="id" title="inductive">prime</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#modulus"><span class="id" title="definition">modulus</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">Lia</span>.<br/>
<span class="id" title="keyword">Module</span> <a name="ZAxiomParams"><span class="id" title="module">ZAxiomParams</span></a> &lt;: <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#BoardroomAxiomsZParams"><span class="id" title="module">BoardroomAxiomsZParams</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ZAxiomParams.p"><span class="id" title="definition">p</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#modulus"><span class="id" title="definition">modulus</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ZAxiomParams.isprime"><span class="id" title="definition">isprime</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#modulus_prime"><span class="id" title="axiom">modulus_prime</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a name="ZAxiomParams.prime_ge_2"><span class="id" title="definition">prime_ge_2</span></a> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#ZAxiomParams.p"><span class="id" title="definition">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">&gt;=</span></a> 2.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">easy</span>. <span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#ZAxiomParams"><span class="id" title="module">ZAxiomParams</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a name="BVZAxioms"><span class="id" title="module">BVZAxioms</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#BoardroomAxiomsZ"><span class="id" title="module">BoardroomAxiomsZ</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#ZAxiomParams"><span class="id" title="module">ZAxiomParams</span></a>. <span class="id" title="keyword">Import</span> <span class="id" title="var">BVZAxioms</span>.<br/>

<br/>
<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">boardroom_axioms_Z</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="generator_nonzero"><span class="id" title="lemma">generator_nonzero</span></a> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#generator"><span class="id" title="definition">generator</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#926a163f4bb712460a083e36f43eb323"><span class="id" title="notation">!==</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">discriminate</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a name="generator_is_generator"><span class="id" title="axiom">generator_is_generator</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">z</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#77b1a15d6ea1ec69de9702db0c6a843b"><span class="id" title="notation">==</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a3726bd940c3c0e96cb8e13291e9ded4"><span class="id" title="notation">exists</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a3726bd940c3c0e96cb8e13291e9ded4"><span class="id" title="notation">!</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a3726bd940c3c0e96cb8e13291e9ded4"><span class="id" title="notation">(</span></a><span class="id" title="var">e</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a3726bd940c3c0e96cb8e13291e9ded4"><span class="id" title="notation">),</span></a> (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#order"><span class="id" title="method">order</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#fa12f60d56cf7225f009c889c0622139"><span class="id" title="notation">-</span></a> 1)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#pow"><span class="id" title="method">pow</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#generator"><span class="id" title="definition">generator</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#77b1a15d6ea1ec69de9702db0c6a843b"><span class="id" title="notation">==</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#z"><span class="id" title="variable">z</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="generator_instance"><span class="id" title="instance">generator_instance</span></a> : <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#Generator"><span class="id" title="class">Generator</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#boardroom_axioms_Z"><span class="id" title="instance">boardroom_axioms_Z</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#Build_Generator"><span class="id" title="constructor">BoardroomMath.generator</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#Build_Generator"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#Build_Generator"><span class="id" title="constructor">generator</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#Build_Generator"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#Build_Generator"><span class="id" title="constructor">BoardroomMath.generator_nonzero</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#Build_Generator"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#Build_Generator"><span class="id" title="constructor">generator_nonzero</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#Build_Generator"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#Build_Generator"><span class="id" title="constructor">generator_generates</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#Build_Generator"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#Build_Generator"><span class="id" title="constructor">generator_is_generator</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#Build_Generator"><span class="id" title="constructor">;</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="num_parties"><span class="id" title="definition">num_parties</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#seven"><span class="id" title="definition">seven</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="votes_for"><span class="id" title="definition">votes_for</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#four"><span class="id" title="definition">four</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;a&nbsp;pseudo-random&nbsp;generator&nbsp;for&nbsp;secret&nbsp;keys&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="sk"><span class="id" title="definition">sk</span></a> <span class="id" title="var">n</span> := <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#f4aabc6086dcb76d542e64bfc1ee7a6b"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#97b83481d0ddbdc60b235a2dbacf041a"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#_1234583932"><span class="id" title="definition">_1234583932</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#f4aabc6086dcb76d542e64bfc1ee7a6b"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#f4aabc6086dcb76d542e64bfc1ee7a6b"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#modulus"><span class="id" title="definition">modulus</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#fa12f60d56cf7225f009c889c0622139"><span class="id" title="notation">-</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#_23241"><span class="id" title="definition">_23241</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#fcf128c8d172d806f9c4e84ec09e7927"><span class="id" title="notation">)^</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#_159338231"><span class="id" title="definition">_159338231</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Make&nbsp;a&nbsp;list&nbsp;of&nbsp;secret&nbsp;keys,&nbsp;here&nbsp;starting&nbsp;at&nbsp;i=7&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="sks"><span class="id" title="definition">sks</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#sk"><span class="id" title="definition">sk</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#seven"><span class="id" title="definition">seven</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#num_parties"><span class="id" title="definition">num_parties</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;Make&nbsp;a&nbsp;list&nbsp;of&nbsp;votes&nbsp;for&nbsp;each&nbsp;party&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="svs"><span class="id" title="definition">svs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 0 <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#votes_for"><span class="id" title="definition">votes_for</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 0 (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#num_parties"><span class="id" title="definition">num_parties</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#7825ccc99f23b0d30c9d40c317ba7af0"><span class="id" title="notation">-</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#votes_for"><span class="id" title="definition">votes_for</span></a>)).<br/>

<br/>
<span class="comment">(*&nbsp;Compute&nbsp;the&nbsp;public&nbsp;keys&nbsp;for&nbsp;each&nbsp;party&nbsp;*)</span><br/>
<span class="id" title="keyword">Time</span> <span class="id" title="keyword">Definition</span> <a name="pks"><span class="id" title="definition">pks</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Eval</span> <span class="id" title="keyword">vm_compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#compute_public_key"><span class="id" title="definition">compute_public_key</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#sks"><span class="id" title="definition">sks</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="rks"><span class="id" title="definition">rks</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Eval</span> <span class="id" title="keyword">vm_compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#reconstructed_key"><span class="id" title="definition">reconstructed_key</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#pks"><span class="id" title="definition">pks</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#pks"><span class="id" title="definition">pks</span></a>)).<br/>

<br/>
<span class="comment">(*&nbsp;In&nbsp;this&nbsp;example&nbsp;we&nbsp;just&nbsp;use&nbsp;xor&nbsp;for&nbsp;the&nbsp;hash&nbsp;function,&nbsp;which&nbsp;is<br/>
&nbsp;&nbsp;&nbsp;obviously&nbsp;not&nbsp;cryptographically&nbsp;secure.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="oneN"><span class="id" title="definition">oneN</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a> := 1%<span class="id" title="var">N</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="hash_func"><span class="id" title="definition">hash_func</span></a> (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.NArith.BinNat.html#N.succ_pos"><span class="id" title="definition">N.succ_pos</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">p</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.NArith.BinNat.html#N.lxor"><span class="id" title="definition">N.lxor</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Npos"><span class="id" title="constructor">Npos</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#p"><span class="id" title="variable">p</span></a>) <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#oneN"><span class="id" title="definition">oneN</span></a>).<br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="AddrSize"><span class="id" title="definition">AddrSize</span></a> := (2<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.NArith.BinNat.html#7878de73cb557151570f9fd311801cb8"><span class="id" title="notation">^</span></a>128)%<span class="id" title="var">N</span>.<br/>
<span class="id" title="keyword">Instance</span> <a name="Base"><span class="id" title="instance">Base</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#ChainBase"><span class="id" title="class">ChainBase</span></a> := <a class="idref" href="ConCert.Execution.LocalBlockchain.html#LocalChainBase"><span class="id" title="instance">LocalChainBase</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#AddrSize"><span class="id" title="definition">AddrSize</span></a>.<br/>
<span class="id" title="keyword">Instance</span> <a name="ChainBuilder"><span class="id" title="instance">ChainBuilder</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#ChainBuilderType"><span class="id" title="class">ChainBuilderType</span></a> := <a class="idref" href="ConCert.Execution.LocalBlockchain.html#LocalChainBuilderDepthFirst"><span class="id" title="definition">LocalChainBuilderDepthFirst</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#AddrSize"><span class="id" title="definition">AddrSize</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="Params"><span class="id" title="module">Params</span></a> &lt;: <a class="idref" href="ConCert.Execution.Examples.BoardroomVoting.html#BoardroomParams"><span class="id" title="module">BoardroomParams</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Params.A"><span class="id" title="definition">A</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Params.H"><span class="id" title="definition">H</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#hash_func"><span class="id" title="definition">hash_func</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Params.ser"><span class="id" title="definition">ser</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#Params.A"><span class="id" title="definition">A</span></a> := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Params.axioms"><span class="id" title="definition">axioms</span></a> : <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#BoardroomAxioms"><span class="id" title="class">BoardroomAxioms</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#Params.A"><span class="id" title="definition">A</span></a> := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Params.gen"><span class="id" title="definition">gen</span></a> : <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#Generator"><span class="id" title="class">Generator</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#Params.axioms"><span class="id" title="definition">axioms</span></a> := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a name="Params.d"><span class="id" title="axiom">d</span></a> : <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#DiscreteLog"><span class="id" title="class">DiscreteLog</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#Params.axioms"><span class="id" title="definition">axioms</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#Params.gen"><span class="id" title="definition">gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Params.discr_log"><span class="id" title="definition">discr_log</span></a> : <a class="idref" href="ConCert.Execution.Examples.BoardroomMath.html#DiscreteLog"><span class="id" title="class">DiscreteLog</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#Params.axioms"><span class="id" title="definition">axioms</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#Params.gen"><span class="id" title="definition">gen</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#Params.d"><span class="id" title="axiom">d</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Params.Base"><span class="id" title="definition">Base</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#Base"><span class="id" title="instance">Base</span></a> .<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#Params"><span class="id" title="module">Params</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="BV"><span class="id" title="module">BV</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVoting.html#BoardroomVoting"><span class="id" title="module">BoardroomVoting</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#Params"><span class="id" title="module">Params</span></a>. <span class="id" title="keyword">Import</span> <span class="id" title="var">BV</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Compute&nbsp;the&nbsp;signup&nbsp;messages&nbsp;that&nbsp;would&nbsp;be&nbsp;sent&nbsp;by&nbsp;each&nbsp;party.<br/>
&nbsp;&nbsp;&nbsp;We&nbsp;just&nbsp;use&nbsp;the&nbsp;public&nbsp;key&nbsp;as&nbsp;the&nbsp;chosen&nbsp;randomness&nbsp;here.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="_3"><span class="id" title="definition">_3</span></a> := 3%<span class="id" title="var">nat</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="_5"><span class="id" title="definition">_5</span></a> := 5.<br/>
<span class="id" title="keyword">Definition</span> <a name="_11"><span class="id" title="definition">_11</span></a> := 11.<br/>

<br/>
<span class="id" title="keyword">Time</span> <span class="id" title="keyword">Definition</span> <a name="signups"><span class="id" title="definition">signups</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#Msg"><span class="id" title="inductive">Msg</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Eval</span> <span class="id" title="keyword">vm_compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">sk</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">pk</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#make_signup_msg"><span class="id" title="definition">make_signup_msg</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#sk"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#_5"><span class="id" title="definition">_5</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#i"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Extras.html#zip"><span class="id" title="definition">zip</span></a> (<a class="idref" href="ConCert.Execution.Extras.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#sks"><span class="id" title="definition">sks</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#pks"><span class="id" title="definition">pks</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#sks"><span class="id" title="definition">sks</span></a>))).<br/>

<br/>
<span class="comment">(*&nbsp;Compute&nbsp;the&nbsp;submit_vote&nbsp;messages&nbsp;that&nbsp;would&nbsp;be&nbsp;sent&nbsp;by&nbsp;each&nbsp;party&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Our&nbsp;functional&nbsp;correctness&nbsp;proof&nbsp;assumes&nbsp;that&nbsp;the&nbsp;votes&nbsp;were&nbsp;computed<br/>
&nbsp;&nbsp;&nbsp;using&nbsp;the&nbsp;make_vote_msg&nbsp;function&nbsp;provided&nbsp;by&nbsp;the&nbsp;contract.<br/>
&nbsp;&nbsp;&nbsp;In&nbsp;this&nbsp;example&nbsp;we&nbsp;just&nbsp;use&nbsp;the&nbsp;secret&nbsp;key&nbsp;as&nbsp;the&nbsp;random&nbsp;parameters.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="votes"><span class="id" title="definition">votes</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#Msg"><span class="id" title="inductive">Msg</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Eval</span> <span class="id" title="keyword">vm_compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">sk</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">sv</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">rk</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#make_vote_msg"><span class="id" title="definition">make_vote_msg</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#pks"><span class="id" title="definition">pks</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#sk"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#sv"><span class="id" title="variable">sv</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#sk"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#sk"><span class="id" title="variable">sk</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#sk"><span class="id" title="variable">sk</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Execution.Extras.html#zip"><span class="id" title="definition">zip</span></a> (<a class="idref" href="ConCert.Execution.Extras.html#zip"><span class="id" title="definition">zip</span></a> (<a class="idref" href="ConCert.Execution.Extras.html#zip"><span class="id" title="definition">zip</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#pks"><span class="id" title="definition">pks</span></a>)) <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#sks"><span class="id" title="definition">sks</span></a>) <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#svs"><span class="id" title="definition">svs</span></a>) <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#rks"><span class="id" title="definition">rks</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="A"><span class="id" title="definition">A</span></a> <span class="id" title="var">a</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.BoundedN.html#BoundedN.of_Z_const"><span class="id" title="definition">BoundedN.of_Z_const</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#AddrSize"><span class="id" title="definition">AddrSize</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#a"><span class="id" title="variable">a</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="addrs"><span class="id" title="definition">addrs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">add_addr</span> <span class="id" title="var">z</span> <span class="id" title="var">n</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <span class="id" title="keyword">constr</span>:(@<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> ?<span class="id" title="var">n</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">tail</span> := <span class="id" title="var">add_addr</span> (<span class="id" title="var">z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">Z</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> (<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#A"><span class="id" title="definition">A</span></a> <span class="id" title="var">z</span>) <span class="id" title="var">tail</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">num</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#num_parties"><span class="id" title="definition">num_parties</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">tm</span> := <span class="id" title="var">add_addr</span> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#_11"><span class="id" title="definition">_11</span></a>%<span class="id" title="var">Z</span> <span class="id" title="var">num</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">tm</span> := <span class="id" title="tactic">eval</span> <span class="id" title="keyword">vm_compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">tm</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">tm</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="voters_map"><span class="id" title="definition">voters_map</span></a> : <a class="idref" href="ConCert.Execution.Examples.Common.html#AddressMap.AddrMap"><span class="id" title="abbreviation">AddrMap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> := <a class="idref" href="ConCert.Execution.Examples.Common.html#AddressMap.of_list"><span class="id" title="definition">AddressMap.of_list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#addrs"><span class="id" title="definition">addrs</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="five"><span class="id" title="definition">five</span></a> := 5%<span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="deploy_setup"><span class="id" title="definition">deploy_setup</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">eligible_voters</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">voters_map</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">finish_registration_by</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">_3</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">finish_commit_by</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">None</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">finish_vote_by</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">five</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">registration_deposit</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#build_setup"><span class="id" title="constructor">0;</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">list</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="boardroom_example"><span class="id" title="definition">boardroom_example</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">chain</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#ChainBuilder"><span class="id" title="instance">ChainBuilder</span></a> := <a class="idref" href="ConCert.Execution.Blockchain.html#builder_initial"><span class="id" title="method">builder_initial</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">creator</span> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> := <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#A"><span class="id" title="definition">A</span></a> 10 <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">add_block</span> (<span class="id" title="var">chain</span> : <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#ChainBuilder"><span class="id" title="instance">ChainBuilder</span></a>) (<span class="id" title="var">acts</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#Action"><span class="id" title="record">Action</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">next_header</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">block_height</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">S</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">chain_height</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">chain</span></a><a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">block_slot</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">S</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">current_slot</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">chain</span></a><a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">block_finalized_height</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">finalized_height</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">chain</span></a><a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">block_creator</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">creator</span></a><a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">block_reward</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_block_Header"><span class="id" title="constructor">50;</span></a> |} <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.ResultMonad.html#option_of_result"><span class="id" title="definition">option_of_result</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#builder_add_block"><span class="id" title="method">builder_add_block</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#chain"><span class="id" title="variable">chain</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#next_header"><span class="id" title="variable">next_header</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#acts"><span class="id" title="variable">acts</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">chain</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#add_block"><span class="id" title="variable">add_block</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#chain"><span class="id" title="variable">chain</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">dep</span> := <a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">build_act</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#creator"><span class="id" title="variable">creator</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#creator"><span class="id" title="variable">creator</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#create_deployment"><span class="id" title="definition">create_deployment</span></a> 0 <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#boardroom_voting"><span class="id" title="definition">boardroom_voting</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#deploy_setup"><span class="id" title="definition">deploy_setup</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">chain</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#add_block"><span class="id" title="variable">add_block</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#chain"><span class="id" title="variable">chain</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#dep"><span class="id" title="variable">dep</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">caddr</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#hd_error"><span class="id" title="definition">hd_error</span></a> (<a class="idref" href="ConCert.Execution.Examples.Common.html#AddressMap.keys"><span class="id" title="definition">AddressMap.keys</span></a> (<a class="idref" href="ConCert.Execution.LocalBlockchain.html#lc_contracts"><span class="id" title="projection">lc_contracts</span></a> (<a class="idref" href="ConCert.Execution.LocalBlockchain.html#lcb_lc"><span class="id" title="projection">lcb_lc</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#chain"><span class="id" title="variable">chain</span></a>)))<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">send</span> <span class="id" title="var">addr</span> <span class="id" title="var">m</span> := <a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">build_act</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#addr"><span class="id" title="variable">addr</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#addr"><span class="id" title="variable">addr</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#act_call"><span class="id" title="constructor">act_call</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#caddr"><span class="id" title="variable">caddr</span></a> 0 (<a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#m"><span class="id" title="variable">m</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">calls</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">addr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#send"><span class="id" title="variable">send</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#addr"><span class="id" title="variable">addr</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#m"><span class="id" title="variable">m</span></a>) (<a class="idref" href="ConCert.Execution.Extras.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#addrs"><span class="id" title="definition">addrs</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#signups"><span class="id" title="definition">signups</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">chain</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#add_block"><span class="id" title="variable">add_block</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#chain"><span class="id" title="variable">chain</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#calls"><span class="id" title="variable">calls</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">votes</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">addr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#send"><span class="id" title="variable">send</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#addr"><span class="id" title="variable">addr</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#m"><span class="id" title="variable">m</span></a>) (<a class="idref" href="ConCert.Execution.Extras.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#addrs"><span class="id" title="definition">addrs</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#votes"><span class="id" title="definition">votes</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">chain</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#add_block"><span class="id" title="variable">add_block</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#chain"><span class="id" title="variable">chain</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#votes"><span class="id" title="variable">votes</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">tally</span> := <a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">build_act</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#creator"><span class="id" title="variable">creator</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#creator"><span class="id" title="variable">creator</span></a> (<a class="idref" href="ConCert.Execution.Blockchain.html#act_call"><span class="id" title="constructor">act_call</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#caddr"><span class="id" title="variable">caddr</span></a> 0 (<a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#tally_votes"><span class="id" title="constructor">tally_votes</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">chain</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#add_block"><span class="id" title="variable">add_block</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#chain"><span class="id" title="variable">chain</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#tally"><span class="id" title="variable">tally</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">state</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#contract_state"><span class="id" title="definition">contract_state</span></a> (<a class="idref" href="ConCert.Execution.LocalBlockchain.html#lcb_lc"><span class="id" title="projection">lcb_lc</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#chain"><span class="id" title="variable">chain</span></a>) <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#caddr"><span class="id" title="variable">caddr</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#tally"><span class="id" title="projection">BV.tally</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#state"><span class="id" title="variable">state</span></a>.<br/>

<br/>
<span class="id" title="keyword">Check</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#votes_for"><span class="id" title="definition">votes_for</span></a>)) &lt;&lt;: <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#boardroom_example"><span class="id" title="definition">boardroom_example</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Examples.BoardroomVotingTest.html#votes_for"><span class="id" title="definition">votes_for</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a> and <a href="https://github.com/jgallen23/toc">TOC</a>
</div>
</div>
<script>
  const elements = document.getElementsByClassName("libtitle");
  while(elements.length > 0){
        elements[0].parentNode.removeChild(elements[0]);
  }
  if (window.location.pathname.endsWith("/toc.html")) {
      const jstocDiv = document.getElementById("js-toc");
      jstocDiv.classList.remove("toc");
      jstocDiv.classList.add("jstoc-hidden");
      const jstocHeaderDiv = document.getElementById("js-toc-header");
      jstocHeaderDiv.classList.add("jstoc-hidden");
  }
  console.log(window.location.pathname);
</script>
<script type="text/javascript" src="toc.js"></script>
</body>

</html>
